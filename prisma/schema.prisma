// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model Build {
  id            Int       @id @default(autoincrement())
  authorId      String
  armourClass   Int
  background    Int
  classList     Class[]
  cantrips      Cantrip[]
  characterName String
  charisma      Int
  constitution  Int
  dexterity     Int
  intelligence  Int
  strength      Int
  wisdom        Int
  level         Int
  origin        Int
  plus1         String
  plus2         String
  race          Int
  subRace       Int
  helmet        Int
  cloak         Int
  armour        Int
  gloves        Int
  boots         Int
  amulet        Int
  ring1         Int
  ring2         Int
  meleeMH       Int
  meleeOH       Int
  rangedMH      Int
  rangedOH      Int

  @@index([id, authorId])
}

model Class {
  id          Int    @id @default(autoincrement())
  build       Build  @relation(fields: [buildId], references: [id])
  buildId     Int
  classId     Int
  name        String
  subClassId  Int
  level       Int
  levelsAdded String
  modifier    String
  order       Int

  @@index([buildId, classId])
}

model Cantrip {
  id        Int   @id @default(autoincrement())
  build     Build @relation(fields: [buildId], references: [id])
  buildId   Int
  cantripId Int

  @@index([buildId, cantripId])
}
